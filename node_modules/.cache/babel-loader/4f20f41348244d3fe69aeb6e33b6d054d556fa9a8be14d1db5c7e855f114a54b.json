{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport { bookSearch } from \"../components/api\";\nconst [books, setBooks] = useState([]);\nconst [query, setQuery] = useState(\"\");\n\n// 책 검색\nuseEffect(() => {\n  if (query.length > 0) {\n    bookSearchHttpHandler(query, true); // 컴포넌트 마운트 후에, 함수를 호출한다.\n  }\n}, [query]);\n\n// book search 핸들러\nconst bookSearchHttpHandler = async (query, reset) => {\n  // Parameter 설정\n  const params = {\n    query: query,\n    sort: \"accuracy\",\n    // accuracy | recency 정확도 or 최신\n    page: 1,\n    // 페이지번호\n    size: 10 // 한 페이지에 보여 질 문서의 개수\n  };\n\n  const {\n    data\n  } = await bookSearch(params); // api 호출\n  if (reset) {\n    setBooks(data.documents);\n  } else {\n    setBooks(books.concat(data.documents));\n  }\n};\nconst searchBook = text => {\n  setQuery(text);\n};","map":{"version":3,"names":["useEffect","useState","bookSearch","books","setBooks","query","setQuery","length","bookSearchHttpHandler","reset","params","sort","page","size","data","documents","concat","searchBook","text"],"sources":["C:/Users/ch/Documents/GitHub/book_project/src/pages/Search.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { bookSearch } from \"../components/api\";\r\n\r\nconst [books, setBooks] = useState([]);\r\nconst [query, setQuery] = useState(\"\");\r\n\r\n// 책 검색\r\nuseEffect(() => {\r\n  if (query.length > 0) {\r\n    bookSearchHttpHandler(query, true); // 컴포넌트 마운트 후에, 함수를 호출한다.\r\n  }\r\n}, [query]);\r\n\r\n// book search 핸들러\r\nconst bookSearchHttpHandler = async (query, reset) => {\r\n  // Parameter 설정\r\n  const params = {\r\n    query: query,\r\n    sort: \"accuracy\", // accuracy | recency 정확도 or 최신\r\n    page: 1, // 페이지번호\r\n    size: 10, // 한 페이지에 보여 질 문서의 개수\r\n  };\r\n\r\n  const { data } = await bookSearch(params); // api 호출\r\n  if (reset) {\r\n    setBooks(data.documents);\r\n  } else {\r\n    setBooks(books.concat(data.documents));\r\n  }\r\n};\r\n\r\nconst searchBook = (text) => {\r\n  setQuery(text);\r\n};\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,UAAU,QAAQ,mBAAmB;AAE9C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGH,QAAQ,CAAC,EAAE,CAAC;AACtC,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;;AAEtC;AACAD,SAAS,CAAC,MAAM;EACd,IAAIK,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;IACpBC,qBAAqB,CAACH,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;EACtC;AACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;;AAEX;AACA,MAAMG,qBAAqB,GAAG,MAAAA,CAAOH,KAAK,EAAEI,KAAK,KAAK;EACpD;EACA,MAAMC,MAAM,GAAG;IACbL,KAAK,EAAEA,KAAK;IACZM,IAAI,EAAE,UAAU;IAAE;IAClBC,IAAI,EAAE,CAAC;IAAE;IACTC,IAAI,EAAE,EAAE,CAAE;EACZ,CAAC;;EAED,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMZ,UAAU,CAACQ,MAAM,CAAC,CAAC,CAAC;EAC3C,IAAID,KAAK,EAAE;IACTL,QAAQ,CAACU,IAAI,CAACC,SAAS,CAAC;EAC1B,CAAC,MAAM;IACLX,QAAQ,CAACD,KAAK,CAACa,MAAM,CAACF,IAAI,CAACC,SAAS,CAAC,CAAC;EACxC;AACF,CAAC;AAED,MAAME,UAAU,GAAIC,IAAI,IAAK;EAC3BZ,QAAQ,CAACY,IAAI,CAAC;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}